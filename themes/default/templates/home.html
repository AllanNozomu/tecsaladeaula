{% extends 'base.html' %}

{% load i18n %}
{% load compressed %}

{% block js %}
    {{ block.super }}
    {% compressed_js 'core' %}
    <script type="text/javascript" src="/static/js/introjs/home.js"></script>
{% endblock %}

{% block content %}

    <div id="home" ng-app="core" ng-controller="HomeCtrl">
        <div id="highlight">
            {% include '_highlight.html' %}
        </div>

        <section id="courses" class="container">
            {% if in_admin %}
            <header>
                <div class="row">
                    <div class="col-sm-8 col-xs-12">
                        <h1>Cursos em destaque</h1>
                    </div>
                    <div class="col-sm-4 col-xs-12 text-right">
                        <button class="btn btn-default" ng-click="organizingCourses=true">
                        Organizar cursos | <i class="fa fa-th-large"></i></button>
                        <button class="btn btn-default" data-toggle="modal" data-target="#modalSelectCourses">
                        Editar cursos | <i class="fa fa-pencil-square-o"></i></button>
                    </div>
                </div>
            </header>

            <div class="row" class="sortable-container grid" sv-root sv-part="courses" ng-show="organizingCourses">
                <div ng-repeat="course in courses" sv-element="opts" class="grid block course col-md-4 col-sm-6 col-xs-12" ng-class="{drag:organizingCourses}">
                    {% verbatim %}
                    <span class="btn btn-warning btn-drag" sv-handle ng-show="organizingCourses"><i class="fa fa-bars"></i></span>
                    <div class="thumb-wrapper">
                        <span class="mouseover"></span>
                        <span class="thumb" ng-style="{'background-image': 'url(' + course.home_thumbnail_url + ')'}"></span>
                    </div>
                    <div class="info">
                        <h3>{{ course.name }}</h3>
                        <p class="instructors">{{ course.professors_names }}</p>
                        <p class="abstract">{{ course.abstract }}</p>
                    </div>
                    <div class="enroll">
                        <span>
                            <i class="fa fa-calendar"></i> Jul, 2014
                        </span>
                        <span class="enroll-link textright uppercase">
                            Começar curso <i class="fa fa-angle-right"></i>
                        </span>
                    </div>
                    {% endverbatim %}
                </div>
                <div class="col-xs-12 textright" ng-show="organizingCourses">
                    <button class="btn btn-danger" ng-click="organizingCourses=false">{% trans 'Cancel' %} | <i class="fa fa-times"></i></button>
                    <button class="btn btn-success">{% trans 'Save' %} | <i class="fa fa-save"></i></button>
                </div>
            </div><!-- .row -->

            {% else %}
            <header>
                <h1>Cursos em destaque</h1>
            </header>
            {% endif %}

            <div class="row" class="sortable-container grid" sv-root sv-part="courses" ng-show="!organizingCourses">
                <div ng-repeat="course in courses" sv-element="opts" class="grid block course col-md-4 col-sm-6 col-xs-12" ng-class="{drag:organizingCourses}">
                    {% verbatim %}
                    <a ng-href="/course/{{ course.slug }}" class="course-link">
                        <div class="thumb-wrapper">
                            <span class="mouseover"></span>
                            <span class="thumb" ng-style="{'background-image': 'url(' + course.home_thumbnail_url + ')'}"></span>
                        </div>
                        <div class="info">
                            <h3>{{ course.name }}</h3>
                            <p class="instructors">{{ course.professors_names }}</p>
                            <p class="abstract">{{ course.abstract }}</p>
                        </div>
                        <div class="enroll">
                            <span>
                                <i class="fa fa-calendar"></i> {{ course.start_date | date : 'MMM, yyyy' | capitalize}}
                            </span>
                            <span class="enroll-link textright uppercase">
                                Começar curso <i class="fa fa-angle-right"></i>
                            </span>
                        </div>
                    </a>
                    {% endverbatim %}
                </div>
                <div class="col-xs-12 textright" ng-show="organizingCourses">
                    <button class="btn btn-danger" ng-click="organizingCourses=false">{% trans 'Cancel' %} | <i class="fa fa-times"></i></button>
                    <button class="btn btn-success">{% trans 'Save' %} | <i class="fa fa-save"></i></button>
                </div>
            </div><!-- .row -->
            <div class="row">
                <div class="see-all-courses col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3">
                    <a href="{% url 'courses' %}" class="btn btn-lg btn-info btn-block">{% trans "All courses" %}</a>
                </div>
            </div>
        </section><!-- #courses -->

        <section id="how-it-works">
            <div class="container">
                <header>
                    <h1>Saiba mais sobre o MOOC IFSul</h1>
                </header>
                {% if in_admin %}
                <div class="highlight textcenter">
                    <div class="editable editable-text-box">
                        <p>Cursos online massivos ou simplesmente MOOCs (Massive Open Online Courses), combinam vídeos online com elementos interativos como testes, simuladores e fóruns. Estudantes podem assistir aulas fracionadas em pequenos capítulos, acessar materias complementares e fazer anotações em um caderno virtual.  Gestores e professores podem acompanhar os avanços dos alunos, gerenciar turmas e fóruns de discussão.</p>
                    </div>
                </div>
                <div class="row">
                    <div class="block col-md-4 col-sm-6 col-xs-12">
                        <div class="info">
                            <div class="icon"><i class="fa fa-video-camera"></i></div>
                            <div class="editable editable-text-box">
                                <h3>Vídeos online</h3>
                                <p>Vídeos online são a base dos MOOCs, com eles as aulas são divididas em pequenos capítulos com apenas alguns minutos de duração. Os estudantes podem assistir cada um dos capítulos de acordo com sua disponibilidade.</p>
                            </div>
                        </div>
                    </div>
                    <div class="block col-md-4 col-sm-6 col-xs-12">
                        <div class="info">
                            <div class="icon"><i class="fa fa-check-square-o"></i></div>
                            <div class="editable editable-text-box">
                                <h3>Testes e simuladores</h3>
                                <p>Ao final de cada capítulo os estudantes podem responder um ou mais testes que ajudam a verificar se compreenderam os conceitos-chave, além disso, podem realizar exercícios em simuladores criados para cada tema abordado, por exemplo, simuladores de linguagens de programação para computadores.</p>
                            </div>
                        </div>
                    </div>
                    <div class="block col-md-4 col-sm-6 col-xs-12">
                        <div class="info">
                            <div class="icon"><i class="fa fa-comments-o"></i></div>
                            <div class="editable editable-text-box">
                                <h3>Colaboração</h3>
                                <p>Estudantes podem fazer e responder perguntas no fórum de cada curso. É possível votar nas melhores perguntas e respostas que são automaticamente colocadas no topo da lista deixando a vista os melhores conteúdos.</p>
                            </div>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="highlight textcenter">
                    <p>Cursos online massivos ou simplesmente MOOCs (Massive Open Online Courses), combinam vídeos online com elementos interativos como testes, simuladores e fóruns. Estudantes podem assistir aulas fracionadas em pequenos capítulos, acessar materias complementares e fazer anotações em um caderno virtual.  Gestores e professores podem acompanhar os avanços dos alunos, gerenciar turmas e fóruns de discussão.</p>
                </div>
                <div class="row">
                    <div class="block col-md-4 col-sm-6 col-xs-12">
                        <div class="info">
                            <div class="icon"><i class="fa fa-video-camera"></i></div>
                            <h3>Vídeos online</h3>
                            <p>Vídeos online são a base dos MOOCs, com eles as aulas são divididas em pequenos capítulos com apenas alguns minutos de duração. Os estudantes podem assistir cada um dos capítulos de acordo com sua disponibilidade.</p>
                        </div>
                    </div>
                    <div class="block col-md-4 col-sm-6 col-xs-12">
                        <div class="info">
                            <div class="icon"><i class="fa fa-check-square-o"></i></div>
                            <h3>Testes e simuladores</h3>
                            <p>Ao final de cada capítulo os estudantes podem responder um ou mais testes que ajudam a verificar se compreenderam os conceitos-chave, além disso, podem realizar exercícios em simuladores criados para cada tema abordado, por exemplo, simuladores de linguagens de programação para computadores.</p>
                        </div>
                    </div>
                    <div class="block col-md-4 col-sm-6 col-xs-12">
                        <div class="info">
                            <div class="icon"><i class="fa fa-comments-o"></i></div>
                            <h3>Colaboração</h3>
                            <p>Estudantes podem fazer e responder perguntas no fórum de cada curso. É possível votar nas melhores perguntas e respostas que são automaticamente colocadas no topo da lista deixando a vista os melhores conteúdos.</p>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </section><!-- #how-it-works -->

        {% if in_admin %}
            <div class="modal fade" id="modalSelectCourses">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Editar cursos da home</h4>
                  </div>
                  <div class="modal-body">
                      <div class="row">
                        {% verbatim %}
                        <div ng-repeat="course in all_courses">
                            <div class="select-course col-xs-6" ng-click="selectCourse(course)" ng-class="{active: course.home_published}">
                                <div class="course-thumb" style="background-image: url({{ course.home_thumbnail_url }});">
                                    <span class="selected"></span>
                                </div>
                                <div class="course-info">
                                    <h3>{{ course.name }}</h3>
                                </div>
                            </div>
                        </div>
                        {% endverbatim %}
                      </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-success" data-dismiss="modal" ng-click="saveCourses()">Salvar</button>
                  </div>
                </div><!-- /.modal-content -->
              </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
        {% endif %}
    </div><!-- #home -->

</div>



{% endblock %}
